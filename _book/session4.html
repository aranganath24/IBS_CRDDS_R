<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; Elementary Data Visualization and Analysis – A Crash Course in R for Social Scientists</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session5.html" rel="next">
<link href="./session3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-27c261d06b905028a18691de25d09dde.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session4.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Elementary Data Visualization and Analysis</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">A Crash Course in R for Social Scientists</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/aranganath24/IBS_CRDDS_R" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R Foundations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Functional Programming</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transferring, Processing, and Wrangling Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Elementary Data Visualization and Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Tools for Reproducibility and Reporting</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">5.1</span> Introduction</a></li>
  <li><a href="#preliminaries-and-set-up" id="toc-preliminaries-and-set-up" class="nav-link" data-scroll-target="#preliminaries-and-set-up"><span class="header-section-number">5.2</span> Preliminaries and Set-Up</a></li>
  <li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data"><span class="header-section-number">5.3</span> Missing Data</a></li>
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics"><span class="header-section-number">5.4</span> Descriptive Statistics</a>
  <ul>
  <li><a href="#summary-statistics-tables" id="toc-summary-statistics-tables" class="nav-link" data-scroll-target="#summary-statistics-tables"><span class="header-section-number">5.4.1</span> Summary Statistics Tables</a></li>
  <li><a href="#writing-a-custom-summary-statistics-function" id="toc-writing-a-custom-summary-statistics-function" class="nav-link" data-scroll-target="#writing-a-custom-summary-statistics-function"><span class="header-section-number">5.4.2</span> Writing a Custom Summary Statistics Function</a></li>
  </ul></li>
  <li><a href="#exploratory-visualization" id="toc-exploratory-visualization" class="nav-link" data-scroll-target="#exploratory-visualization"><span class="header-section-number">5.5</span> Exploratory Visualization</a></li>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression"><span class="header-section-number">5.6</span> Linear Regression</a></li>
  <li><a href="#exporting-analysis-objects" id="toc-exporting-analysis-objects" class="nav-link" data-scroll-target="#exporting-analysis-objects"><span class="header-section-number">5.7</span> Exporting Analysis Objects</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/aranganath24/IBS_CRDDS_R/blob/main/session4.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/aranganath24/IBS_CRDDS_R/edit/main/session4.qmd" class="toc-action"><i class="bi empty"></i>Edit this page</a></li><li><a href="https://github.com/aranganath24/IBS_CRDDS_R/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Elementary Data Visualization and Analysis</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">5.1</span> Introduction</h2>
<p>In this session, we’ll turn from tasks related to data processing and wrangling to creating basic visualization and analysis products in R. We will cover descriptive statistics, data visualization using the <em>ggplot2</em> package (part of the <em>tidyverse</em> suite), and linear regression, and also explore how to export analysis and visualization objects related to such tasks (i.e.&nbsp;plots, regression and summary statistics tables etc.) out of R for use in external applications. Our focus will be on practical issues related to implementing analysis workflows in R, rather than conceptual or methodological issues related to visualization or statistical techniques (which is beyond our curren scope)</p>
</section>
<section id="preliminaries-and-set-up" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="preliminaries-and-set-up"><span class="header-section-number">5.2</span> Preliminaries and Set-Up</h2>
<p>We will be using the following packages. Please install any packages that are not already installed (using the <code>install.packages()</code> function, and load them into memory using the <code>library()</code> function:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastDummies)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggeffects)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(interplot)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will continue working with the Quality of Government Institute’s basic cross-sectional dataset, which we introduced and began exploring in the previous lesson. Please go ahead and read in that data if it is not already in memory, and assign it to an object named <code>qog</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read in qog data and assign to object named "qog"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>qog<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"data/quality_of_government/qog_bas_cs_jan25.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 194 Columns: 331
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr   (3): cname_qog, cname, ccodealp
dbl (328): ccode_qog, ccodecow, ccode, ajr_settmort, atop_ally, atop_number,...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p>As before, we’ll make a copy of <code>qog</code> to work with:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make a copy of the "qog" data and assign to "qog_copy"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>qog_copy<span class="ot">&lt;-</span>qog</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Now, we’ll go ahead and select some variables of interest to work with, and assign the modified dataset to a new object named <code>qog_copy_selection</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select qog variables and assign modified dataset to object named "qog_copy_selection"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>qog_copy_selection <span class="ot">&lt;-</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  qog_copy <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(cname_qog, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>          cname, </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>          ccodealp, </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>          undp_hdi, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>          wdi_expedu,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>          wdi_acel,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>          wdi_area,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>          wdi_taxrev,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>          wdi_expmil,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>          wdi_fdiin,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>          wdi_trade,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>          cbie_index,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>          ht_region,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>          wbgi_rle,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>          bmr_dem,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>          atop_ally,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>          gol_est,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>          mad_gdppc,</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>          mad_gdppc1900,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>          bci_bci,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>          lis_gini,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>          top_top1_income_share,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>          wdi_wip)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Currently, the “ht_region” variable contains numeric codes that specify a country’s region in the world (see the QOG dataset codebook for more details). We will use this variable to make a new categorical variable that encodes the region information as a string, which will make it easier to interpret in the course of making visualizations and computing relevant statistics. To do so, we will use the <code>case_when()</code> function introduced in the previous session. We’ll assign the change back to the <code>qog_copy_selection</code> object:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new character variable named "region" based on "ht_region" variable that contains region information encoded as strings</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>qog_copy_selection<span class="ot">&lt;-</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  qog_copy_selection <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">region=</span><span class="fu">case_when</span>(ht_region<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="st">"EasternEuropePostSoviet"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="st">"LatinAmerica"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span><span class="st">"NorthAfricaMiddleEast"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="st">"SubSaharanAfrica"</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">5</span><span class="sc">~</span><span class="st">"WesternEuropeNorthAmerica"</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">6</span><span class="sc">~</span><span class="st">"EastAsia"</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">7</span><span class="sc">~</span><span class="st">"SouthEastAsia"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">8</span><span class="sc">~</span><span class="st">"SouthAsia"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">9</span><span class="sc">~</span><span class="st">"Pacific"</span>,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                          ht_region<span class="sc">==</span><span class="dv">10</span><span class="sc">~</span><span class="st">"Caribbean"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="missing-data"><span class="header-section-number">5.3</span> Missing Data</h2>
<p>Before proceeding, it is important to briefly acquaint ourselves with how R handles missing data, which has implications for our main topics of interest below. Most real-world social science datasets (including the QOG dataset we are working with) have missing data, and when they are read into R, “blank” cells in a dataset are automatically coded as “NA” by R. To confirm this, view <code>qog_copy_selection</code> in the data viewer:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view "qog_copy_selection" in Viewer; note NA values</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(qog_copy_selection)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-6c909c3594e225a9fb95" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6c909c3594e225a9fb95">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"cname_qog":["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Azerbaijan","Argentina","Australia","Austria","Bahamas","Bahrain","Bangladesh","Armenia","Barbados","Belgium","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Belize","Solomon Islands","Brunei","Bulgaria","Myanmar","Burundi","Belarus","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Sri Lanka","Chad","Chile","China","Taiwan","Colombia","Comoros","Congo","Congo, Democratic Republic","Costa Rica","Croatia","Cuba","Cyprus (1975-)","Czech Republic","Benin","Denmark","Dominica","Dominican Republic","Ecuador","El Salvador","Equatorial Guinea","Ethiopia (1993-)","Eritrea","Estonia","Fiji","Finland","France (1963-)","Djibouti","Gabon","Georgia","Gambia","Germany","Ghana","Kiribati","Greece","Grenada","Guatemala","Guinea","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Cote d'Ivoire","Jamaica","Japan","Kazakhstan","Jordan","Kenya","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Lebanon","Lesotho","Latvia","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia (1966-)","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Monaco","Mongolia","Moldova","Montenegro","Morocco","Mozambique","Oman","Namibia","Nauru","Nepal","Netherlands","Vanuatu","New Zealand","Nicaragua","Niger","Nigeria","Norway","Micronesia","Palau","Pakistan (1971-)","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Guinea-Bissau","Timor-Leste","Qatar","Romania","Russia","Rwanda","St Kitts and Nevis","St Lucia","St Vincent and the Grenadines","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Vietnam","Slovenia","Somalia","South Africa","Zimbabwe","Spain","South Sudan","Sudan (2012-)","Suriname","Eswatini (former Swaziland)","Sweden","Switzerland","Syria","Tajikistan","Thailand","Togo","Tonga","Trinidad and Tobago","United Arab Emirates","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","North Macedonia","Egypt","United Kingdom","Tanzania","United States","Burkina Faso","Uruguay","Uzbekistan","Venezuela","Samoa","Yemen","Zambia","Marshall Islands"],"cname":["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Azerbaijan","Argentina","Australia","Austria","Bahamas (the)","Bahrain","Bangladesh","Armenia","Barbados","Belgium","Bhutan","Bolivia (Plurinational State of)","Bosnia and Herzegovina","Botswana","Brazil","Belize","Solomon Islands","Brunei Darussalam","Bulgaria","Myanmar","Burundi","Belarus","Cambodia","Cameroon","Canada","Cabo Verde","Central African Republic (the)","Sri Lanka","Chad","Chile","China","Taiwan (Province of China)","Colombia","Comoros (the)","Congo (the)","Congo (the Democratic Republic of the)","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Benin","Denmark","Dominica","Dominican Republic (the)","Ecuador","El Salvador","Equatorial Guinea","Ethiopia","Eritrea","Estonia","Fiji","Finland","France","Djibouti","Gabon","Georgia","Gambia (the)","Germany","Ghana","Kiribati","Greece","Grenada","Guatemala","Guinea","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Israel","Italy","Côte d'Ivoire","Jamaica","Japan","Kazakhstan","Jordan","Kenya","Korea (the Democratic People's Republic of)","Korea (the Republic of)","Kuwait","Kyrgyzstan","Lao People's Democratic Republic (the)","Lebanon","Lesotho","Latvia","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Monaco","Mongolia","Moldova (the Republic of)","Montenegro","Morocco","Mozambique","Oman","Namibia","Nauru","Nepal","Netherlands (the)","Vanuatu","New Zealand","Nicaragua","Niger (the)","Nigeria","Norway","Micronesia (Federated States of)","Palau","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines (the)","Poland","Portugal","Guinea-Bissau","Timor-Leste","Qatar","Romania","Russian Federation (the)","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Viet Nam","Slovenia","Somalia","South Africa","Zimbabwe","Spain","South Sudan","Sudan (the)","Suriname","Eswatini","Sweden","Switzerland","Syrian Arab Republic (the)","Tajikistan","Thailand","Togo","Tonga","Trinidad and Tobago","United Arab Emirates (the)","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","North Macedonia","Egypt","United Kingdom of Great Britain and Northern Ireland (the)","Tanzania, the United Republic of","United States of America (the)","Burkina Faso","Uruguay","Uzbekistan","Venezuela (Bolivarian Republic of)","Samoa","Yemen","Zambia","Marshall Islands"],"ccodealp":["AFG","ALB","DZA","AND","AGO","ATG","AZE","ARG","AUS","AUT","BHS","BHR","BGD","ARM","BRB","BEL","BTN","BOL","BIH","BWA","BRA","BLZ","SLB","BRN","BGR","MMR","BDI","BLR","KHM","CMR","CAN","CPV","CAF","LKA","TCD","CHL","CHN","TWN","COL","COM","COG","COD","CRI","HRV","CUB","CYP","CZE","BEN","DNK","DMA","DOM","ECU","SLV","GNQ","ETH","ERI","EST","FJI","FIN","FRA","DJI","GAB","GEO","GMB","DEU","GHA","KIR","GRC","GRD","GTM","GIN","GUY","HTI","HND","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","KAZ","JOR","KEN","PRK","KOR","KWT","KGZ","LAO","LBN","LSO","LVA","LBR","LBY","LIE","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MCO","MNG","MDA","MNE","MAR","MOZ","OMN","NAM","NRU","NPL","NLD","VUT","NZL","NIC","NER","NGA","NOR","FSM","PLW","PAK","PAN","PNG","PRY","PER","PHL","POL","PRT","GNB","TLS","QAT","ROU","RUS","RWA","KNA","LCA","VCT","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SVK","VNM","SVN","SOM","ZAF","ZWE","ESP","SSD","SDN","SUR","SWZ","SWE","CHE","SYR","TJK","THA","TGO","TON","TTO","ARE","TUN","TUR","TKM","TUV","UGA","UKR","MKD","EGY","GBR","TZA","USA","BFA","URY","UZB","VEN","WSM","YEM","ZMB","MHL"],"undp_hdi":["0.473","0.785","0.74","0.855","0.59","0.819","0.738","0.844","0.949","0.92","0.799","0.884","0.662","0.774","0.803","0.938","0.677","0.691","0.776","0.68","0.756","0.698","0.564","0.824","0.796","0.599","0.419","0.801","0.596","0.581","0.934","0.65","0.387","0.783","0.393","0.856","0.785","NA","0.752","0.585","0.598","0.475","0.804","0.867","0.742","0.901","0.891","0.502","0.947","0.737","0.756","0.746","0.669","0.647","0.489","0.49","0.89","0.715","0.941","0.906","0.512","0.687","0.809","0.49","0.948","0.6","0.627","0.887","0.788","0.63","0.467","0.721","0.551","0.62","0.846","0.957","0.633","0.707","0.776","0.667","0.946","0.911","0.899","0.53","0.704","0.92","0.801","0.736","0.596","NA","0.926","0.836","0.696","0.615","0.725","0.522","0.865","0.484","0.746","0.936","0.875","0.927","0.484","0.509","0.798","0.753","0.408","0.912","0.538","0.79","0.757","NA","0.73","0.767","0.84","0.688","0.459","0.81","0.616","0.693","0.591","0.941","0.614","0.936","0.665","0.389","0.542","0.964","0.634","0.802","0.537","0.813","0.564","0.73","0.755","0.692","0.876","0.865","0.482","0.574","0.864","0.825","0.818","0.539","0.832","0.717","0.773","0.853","0.609","0.867","0.512","0.804","0.795","0.456","0.942","0.852","0.718","0.916","0.38","0.721","0.549","0.904","0.381","NA","0.689","0.612","0.949","0.965","0.558","0.677","0.797","0.545","0.738","0.804","0.931","0.729","0.841","0.74","0.653","0.545","0.755","0.764","0.726","0.931","0.529","0.921","0.445","0.814","0.721","0.69","0.708","0.425","0.565","0.729"],"wdi_expedu":["NA","3.02255988121033","5.51403284072876","2.58397221565247","2.2971088886261","2.5746488571167","3.7020800113678","4.64117002487183","5.33320999145508","5.49411010742188","3.00693249702454","2.22135806083679","1.83117997646332","2.76784992218018","4.863609790802","6.35551977157593","6.59838628768921","7.96215009689331","4.13622999191284","8.05833625793457","5.4969801902771","5.94879007339478","8.33232688903809","NA","4.73032999038696","1.99976003170013","4.87114191055298","4.60641002655029","3.01162648200989","2.82764077186584","4.74860000610352","6.03750085830688","1.87251687049866","1.50650584697723","2.8881299495697","4.99923992156982","3.98832511901855","NA","NA","2.27485394477844","3.67454195022583","2.660484790802","6.24841976165771","4.05666017532349","9.38586235046387","5.23585987091064","4.80319976806641","3.20348429679871","6.99992990493774","5.46584510803223","3.74731349945068","3.64776992797852","3.57766008377075","NA","4.06524896621704","NA","5.2632098197937","4.85268640518188","6.53825998306274","5.43038988113403","3.75143003463745","2.70079278945923","3.59441995620728","3.04477691650391","5.45488977432251","3.41949439048767","14.1951599121094","4.08201456069946","4.09030342102051","3.10634994506836","2.04074811935425","4.45058012008667","1.24275183677673","5.81050157546997","4.68406009674072","8.21780967712402","4.63514137268066","1.03221750259399","3.20495009422302","NA","3.00598001480103","6.18401002883911","4.21828985214233","3.32718992233276","5.63123989105225","3.33563995361328","4.38569402694702","3.13837003707886","4.89040184020996","NA","4.86627006530762","7.76246690750122","6.17235136032104","1.85949182510376","1.66996812820435","7.50747919082642","4.61546993255615","2.11186790466309","NA","NA","4.25490999221802","3.71989011764526","3.19807553291321","3.32295989990234","4.26109409332275","4.61379766464233","4.36370992660522","5.36479997634888","1.891970038414","4.67151021957397","4.24952983856201","1.41878998279572","3.34389615058899","5.82405996322632","NA","5.64273405075073","6.49789762496948","6.87769985198975","10.3914480209351","6.21887111663818","3.95612215995789","5.50609016418457","10.1102409362793","5.54822015762329","4.08665704727173","3.82175827026367","0.381919115781784","6.9602198600769","10.5389995574951","3.94417095184326","1.6874612569809","3.71141004562378","1.34599995613098","3.41070008277893","3.92721009254456","3.87249755859375","4.67303991317749","4.78316020965576","NA","2.9738941192627","3.2336699962616","3.32452988624573","3.99480700492859","5.58984994888306","2.78379011154175","3.62086009979248","5.46375846862793","3.10892009735107","5.51617622375488","5.11466979980469","5.61201000213623","3.29867005348206","5.62358999252319","9.44223594665527","2.82470989227295","4.79718017578125","2.94517493247986","5.36526012420654","NA","6.54902982711792","2.05048990249634","4.86506986618042","NA","NA","4.13154983520508","5.28714895248413","7.57219982147217","5.03708982467651","NA","5.70163345336914","2.98212432861328","4.23118162155151","4.92703914642334","3.00432991981506","3.89403009414673","6.67984676361084","3.53787994384766","3.8489100933075","12.8456897735596","2.63593602180481","5.14011001586914","NA","NA","5.90458011627197","3.11515331268311","5.42829990386963","5.22401523590088","4.46065998077393","5.36828899383545","NA","5.2044882774353","NA","3.10643219947815","7.54093980789185"],"wdi_acel":["97.7","100","99.8","100","48.2","100","100","100","100","100","100","100","99","100","100","100","100","98.6","100","73.7","99.5","97.7","76.3","100","99.8","72.5","10.2","100","82.5","65.4","100","95.5","15.7","100","11.3","100","100","NA","100","87.9","49.7","20.8","100","100","100","100","100","42","100","100","98.1","100","97.9","66.8","54.2","52.5","100","92.1","100","100","65.4","91.8","100","63.7","100","86.3","92.8","100","93.7","97.9","46.8","92.9","47.2","94.1","100","100","99.6","99.2","100","100","100","100","100","71.1","100","100","100","99.9","76.5","52.6","100","100","99.7","100","100","50.4","100","29.8","70.2","100","100","100","35.1","14.2","100","100","53.4","100","47.7","99.6","100","100","100","100","99.8","100","31.5","100","55.2","100","89.9","100","70","100","86.3","18.6","59.5","100","83.6","100","94.9","95.3","20.9","100","95.6","97.5","100","100","35.8","100","100","100","100","48.7","100","100","100","100","78.5","100","68","100","100","27.5","100","100","100","100","49.3","89.3","49","100","7.7","NA","98.8","82.9","100","100","88.8","99.6","100","55.7","100","100","100","99.9","100","100","99.7","45.2","100","100","100","100","42.7","100","19","100","99.9","100","98.3","74.9","46.7","99.8"],"wdi_area":["652230","27400","2381741","470","1246700","440","82650","2736690","7692020","82520","10010","790","130170","28470","430","30280","38140","1083300","51200","566730","8358140","22810","27990","5270","108560","652670","25680","202950","176520","472710","8788700","4030","622980","61860","1259200","743532","9388210","NA","1109500","1861","341500","2267050","51060","55960","103800","9240","77186.83","112760","40000","750","47531","248360","20720","28050","1128571.265","121040.829","42750","18270","303947.7","547557","23180","257670","69490","10120","349390","227533","810","128900","340","107160","245720","196850","27560","111890","91260","100830","2973190","1892555.47","1622500","434128","68890","21640","295717","318000","10830","364500","2699700","88794","569140","120410","97600","17820","191800","230800","10230","30360","62230","96320","1759540","160","62610","2574.46","581800","94280","328550","300","1220190","320","1030700","1997","1943950","2.084","1557507","32970","13450","446300","786380","309500","823290","20","143350","33670","12190","263310","120340","1266700","910770","364270","700","460","770880","74180","452860","397300","1280000","298170","306100","91605.6","28120","14870","11490","230080","16376870","24670","260","610","390","60","960","2149690","192530","84090","460","72180","718","48080","313429","20136.4","627340","1213090","386850","499733.244","631930","NA","156000","17200","407283.54","39509.63","183630","138790","510890","54390","720","5130","71020","155360","769630","469930","30","200520","579400","25220","995450","241930","885800","9147420","273600","175020","440653","882050","2780","527970","743390","180"],"wdi_taxrev":["NA","18.1985959060486","NA","NA","10.090385804431","NA","13.4213202980155","8.79392955783953","23.0272760652611","25.8506768631894","14.1763815936458","2.92231784869143","7.64236301017901","22.0010047423132","NA","22.2891257982306","12.2846378373934","NA","19.0981491977883","22.2295140207709","14.1366751318622","NA","21.4486577466021","NA","20.6743441728497","6.01765247726484","15.6362454762579","12.8250049647951","16.3649333016786","11.3461577378065","13.2198942999607","18.3857032934311","8.20629229709995","7.36992757109497","NA","19.6644047302073","7.96512804614377","NA","14.4451638062259","NA","6.50908825817085","8.39903438797131","13.9991922763022","20.8906141534785","NA","23.2332556283931","13.3573220039494","NA","35.1882997859342","NA","14.3774132098545","12.7055177467813","19.6896754276569","5.39509912593539","5.32472623532696","NA","21.6363289048472","15.8742098117681","20.6718954456962","13.9020621729271","NA","9.12747298107656","21.4728937487649","NA","11.2023110201938","12.2446867253345","21.5449264","25.9156492201809","NA","11.6129518261926","NA","NA","NA","NA","21.2506256455826","21.4128299641834","12.0174277483193","9.09400997883352","NA","1.34459361810327","17.1720318490757","24.6153959630754","25.0485390639159","12.3894127185479","25.7094656957291","13.3082711121133","9.44711136309549","15.9811020446786","13.2546715485857","NA","16.7347339402527","NA","16.4912602816795","10.3910216640385","5.68479554564454","31.9410692057445","22.0925138760382","NA","NA","NA","21.2707093741651","25.8655065735814","10.2385306991003","11.40096954561","11.2146465719606","19.4461807952138","14.164539862387","23.8223254592062","NA","18.264394630822","13.4470069331931","NA","16.9088495192029","18.3881163669346","NA","19.6935295967337","22.747755709622","NA","28.0639865897267","44.3468321505376","17.4853032787772","24.5070280167289","15.8771617065457","NA","18.9072309186047","NA","NA","25.5027658859496","7.04821639784946","17.9294565123661","NA","7.45946064719901","12.1465996811431","9.79425505793564","15.9225447315513","14.1300039313539","19.093627413349","21.545073186115","9.16392889225127","15.1003110662796","NA","14.6626856945539","11.606494475109","15.0744684401213","15.0423826463699","NA","NA","17.2959731612318","NA","9.67348884669067","17.5501329724803","24.493256284499","26.1767418994855","NA","12.8128979341856","19.287022165904","NA","18.5907666064944","5.8864372548248e-05","25.1700288921631","7.21476500513885","15.0386569472057","NA","NA","NA","24.127993711269","27.290370392512","10.0936772612024","NA","10.345980548358","14.3046633623499","14.2024496426634","21.3033075587168","NA","0.535243668700213","NA","17.8815776968346","NA","NA","12.4588666784696","19.0823227721039","17.186641898978","NA","26.4102511340457","10.8557996439654","11.3004081413642","15.9829408306659","18.5148717533759","14.8464898245603","NA","25.022326284123","NA","16.7804106778084","17.2302400064597"],"wdi_expmil":["1.827933856217","1.22084466120546","5.58544666775166","NA","1.28992265308256","NA","5.27005900628497","0.630928835372215","1.98912270035816","0.873694846766333","NA","3.55388299692097","1.19664698573287","4.47078156298276","NA","1.05034404939086","NA","1.41111958813376","0.929365426321555","3.04556932426419","1.16368211072875","1.00947819584936","NA","3.23636748209722","1.51713160983634","3.39115163606364","2.04300976329884","1.11835004010897","2.34734246417442","0.978117031343036","1.26729446473527","0.579317677142293","2.15034556057488","1.89424834227119","2.80826952779774","1.93228691717414","1.61307386433133","NA","3.23758910406394","NA","2.47848232699844","0.542970228782383","NA","2.01266537086965","2.87620737245072","1.90746002348489","1.39741190368455","0.550883648806243","1.32422710157036","NA","0.65056272603802","2.24439369241334","1.22343572258204","1.46249872263959","0.49197376876991","NA","2.01304423406157","1.5997674680295","1.26152989821883","1.91536145421393","NA","1.5398824689606","1.60542784800892","0.76855558144666","1.32678559033803","0.384879261038789","NA","3.8631706100809","NA","0.397670423818451","1.48454111736468","0.995030769840688","0.110133662270893","1.54111976577739","1.68336608855554","NA","2.47144662861613","0.74178636312329","2.19253403937114","2.30492820761499","0.251475874908046","4.97605222586197","1.72006283098808","0.910633112973165","1.46676867767402","1.01829737669403","0.819281683646492","4.81123191507576","1.07091960171957","NA","2.80900611973598","6.59030254506636","1.5607751592689","NA","3.36622246400457","1.56061124415555","2.06553307283479","0.998322660417257","NA","NA","1.96692451680381","0.471678356636088","0.692132176722242","0.75913111163443","0.986864882084694","NA","3.43787625232372","0.496378473621832","2.29399489807024","0.166434352050263","0.682059196439262","NA","0.634517577391162","0.367566304907699","1.55528019503059","3.94279963364595","1.88537169538203","6.55798322028562","3.25048104938115","NA","1.23009788741636","1.37664709536688","NA","1.16789777249676","0.540141928775309","1.35370281969671","1.01270192678284","1.72188687044335","NA","NA","2.87198606564158","NA","0.339121498498937","0.928803634265998","1.18067972352829","1.40682590650867","2.22199525295471","1.53634038088802","1.60258794398635","1.08312161714349","6.4523551123317","1.86366582653499","3.7204513646667","1.51203855994152","NA","NA","NA","NA","NA","7.58146863585647","1.73912588958141","2.00618591411266","2.77755038036736","0.609065850522684","2.78363121983816","1.77217536688217","2.28456986005062","1.23544123825207","NA","0.809812625998238","0.815977410678401","1.36942532659619","2.62614385621105","NA","NA","1.78385478033566","1.19327656149619","0.776260426446761","NA","0.929863567458312","1.30612765710848","3.11153706019691","NA","0.894832903670522","NA","2.63670026160052","1.89889704063657","NA","NA","2.57785468025078","3.22834693677077","1.46631957337464","1.12200927143154","2.16157191775693","1.0794434996739","3.45797721923449","2.40194309061394","2.10130868239947","3.5554825523167","0.313630729266034","NA","NA","0.979965767794135","NA"],"wdi_fdiin":["0.144401085222495","6.7961408036867","0.466642750804028","NA","-6.54854227564072","18.1006036013337","-3.11473447263613","1.36462688641751","1.78341600361351","3.70886934393561","3.36940934585663","4.52867279425205","0.414118154944474","2.64030281211345","4.82753763389546","4.91189848179391","0.244983589293264","1.44427761116124","3.10277232367734","-1.70154533730106","2.77979084916568","5.17597863176034","1.83340987016897","1.46181722244564","2.97392384442079","3.11492561696787","0.806162274299769","1.76640687852003","12.9203431053741","2.14148940890135","2.94525148855338","4.45730500132353","0.214980465443776","0.668428427839163","5.98558469761778","4.81019970676228","1.93078622294539","NA","3.00175693787234","0.310531969004356","-2.15982873754758","3.03220638870425","5.53072986406839","6.72446813889904","NA","26.1977316596488","4.57464586893815","1.95608661099464","4.18974353475944","5.1036226068351","3.55430627298153","0.603682730215786","2.7560499827498","4.59725955429429","3.82830640829097","NA","20.4542211360062","9.52129029040505","7.98565320892034","3.31195540543806","4.92494796840667","7.56368134687312","6.77908886878379","12.5026201248137","2.38764360816347","3.18592251630377","0.356621411313479","2.85672824512124","13.5574961877895","4.21410178870597","1.22801539228598","27.8124987352703","0.24571528666924","2.84361329738545","18.2734736968849","1.80346001426939","1.41217101040886","1.78785563145541","0.396828813937793","-1.25770209772783","17.8869865733027","3.87899084703941","1.15562898844264","1.91282655892028","2.18644459267792","0.695725961783807","2.31675874599247","1.34316062049226","0.422364158406335","NA","1.21315499855807","-0.192086717893054","2.44569276771409","5.69344695957329","2.5929006838647","-0.514055700839224","9.38107588608647","15.2455267850161","1.26185502585239","-1303.10826691135","4.44860230039192","29.3542717520448","2.45649402526377","1.02931314907109","5.41557013448805","12.2342196073402","3.31414782752808","26.2697703937372","11.6047527792443","2.20464612454668","2.69638965324324","NA","14.2177319422671","2.8200678267721","11.8356969374313","1.59651938753365","32.7522138541297","9.97056448137009","6.7751489770655","NA","0.531690906776235","-11.217005209151","4.53028102541425","1.78987576941341","8.62623142316684","3.98812628006034","0.75156918029235","2.81683452885051","NA","13.678433954997","0.616039439073827","2.0066366147897","-0.0410230725868999","0.765490446184672","3.15535335133475","3.04078855310047","5.30890265442735","3.07236641831478","1.07446364648058","-11.5693012777808","-0.608353846418717","4.10699673507739","2.1943240262796","1.91427196306746","2.78723268868289","5.93499709559899","18.6712623378309","NA","11.25092620282","2.64391059965147","9.40426190185874","7.29017542321983","7.52808883301193","4.99593944670397","31.6207400179128","2.29385763784245","4.27314566190187","3.58914562379553","6.10852344029523","9.6779493605082","0.881174075434015","3.9560014902077","NA","NA","-4.30666395669143","2.32671514927082","8.5723862546828","-14.4091790381318","NA","0.94025522151091","2.99428727205672","-1.63291202920242","0.81070105805349","-3.81598012642742","4.97788431407126","1.16937529005457","1.57281942883698","2.57428691451556","0.331298850213827","4.06673785807037","3.98166133947207","4.97315294989199","1.20617861055665","0.188516350562574","1.68494347865961","2.01663293567767","-0.407049209196581","5.67393088579674","3.27625046164089","NA","1.0603950693965","-1.30563839823089","1.78407846118257","0.193738453653779"],"wdi_trade":["51.4117163747271","76.0179821075752","47.2709030076405","NA","74.4644985945172","101.122883462968","76.286865687015","32.9300242545298","39.7023602363157","110.984958052906","72.9516487962776","159.87298054363","27.7240047036631","79.6698888228399","69.8688030759052","174.038993727527","77.5824514467004","59.0213965632554","96.4859085777747","88.7551314233315","37.6563307568833","99.1470033287338","66.6394072717162","147.123112375318","120.974653390581","NA","28.8186599995439","136.014450556595","129.11145154834","36.7458684244446","62.4241644131018","77.4550586265341","44.159119995104","41.2299717494043","82.984776867047","64.8384472541565","37.3019908656257","NA","40.0591463936128","42.2777287262852","85.5462031552188","80.4813114206906","70.7816423027085","101.433303428325","80.0237849857828","174.859607592058","142.49501163665","48.0548608324409","110.712208517714","106.96050417924","52.7348670680051","53.1511986943634","81.8450759800765","76.9666485998527","24.3450393271265","NA","161.541265116077","81.7252085972258","78.9215842721731","61.9523139995796","264.020253506591","74.4919637746964","101.60090754891","42.0979827874535","89.1610941409004","62.7078309128346","73.5010885714286","89.6559253903021","NA","49.491532191391","105.803010495533","NA","37.1654017679449","103.372643459918","159.688274120647","76.2967140833855","45.4230887840438","40.2047582749671","44.3738340508665","61.5032683117218","227.404790299365","55.1949222878766","62.0679468955691","45.1140327762435","90.1106076335994","36.7714832870467","58.6686085779207","80.48924243797","30.6892819236191","NA","80.1994569268269","96.4100152459388","100.261376861569","NA","78.8286204025241","138.562032031328","132.334030966869","NA","121.135115484334","NA","155.636625710561","393.14119815602","54.4570415917068","NA","134.018926345978","NA","67.2099446691173","314.682664160793","88.3068737571235","98.0000292393386","83.2907026935293","NA","119.098078437771","88.4708865399267","105.029993243347","75.6321941874613","112.078964460828","93.9161461607843","83.544303123051","110.63829787234","43.0538047912219","156.956168654023","61.8209434451996","48.5496455680671","106.695198216544","37.0158935503713","NA","71.2227137759599","87.6064871794872","82.8001275691572","27.030421558764","78.7627100301698","NA","69.7422730211357","55.2742548782987","63.4846098136712","112.081813490052","85.6259080141689","55.5513379949577","99.891798855757","92.7791585715124","86.8531207651432","50.196441103259","54.6383128041512","NA","NA","NA","342.470174017661","NA","57.1428135634067","69.3759939883832","117.773070852372","183.77081501466","58.3908280709773","329.78497877736","184.2012064756","186.675832800038","161.285643631514","82.0839190980559","56.0846247448035","50.8471283664568","67.3912901193661","NA","NA","NA","88.9520577439276","88.2464014779394","130.25616282247","97.8512542311977","71.825937435383","117.144503626655","57.5850134996963","73.367469327191","NA","166.571899325291","94.2210932352001","71.0824413868968","33.0581170797482","NA","41.7136307424782","82.69796136345","146.721411484074","29.8569734808122","59.3486477481733","29.9151840074048","25.2534846631337","62.5929625003689","56.823738109386","63.848290989831","NA","60.8888856520264","58.9022786120284","86.2085111934645","118.047657212332"],"cbie_index":["0.87","0.791","0.586","NA","0.732","0.5495","0.7315","0.557","0.424","0.912","0.7185","0.5145","0.539","NA","NA","0.912","NA","0.837","0.8985","0.579","0.552","NA","NA","0.704","0.8195","0.765","0.8045","0.619","0.7285","0.8535","0.604","NA","0.8535","0.5225","0.8535","0.746","0.659","0.454","0.757","0.439","0.8535","0.8815","0.8265","0.862","0.354","0.8955","0.795","0.811","0.606","0.5495","0.835","0.6725","NA","0.8535","0.4945","NA","0.912","NA","0.912","0.912","NA","0.8535","0.847","0.692","0.912","0.6935","NA","0.8955","0.5495","0.6255","0.652","NA","0.3655","NA","0.662","0.6955","0.5885","0.8415","0.448","0.733","0.8955","NA","0.8955","0.811","0.6555","0.3665","0.7165","0.659","0.6325","NA","0.6795","0.564","0.736","0.52","0.437","NA","0.912","0.7155","0.5735","NA","0.912","0.912","NA","0.7415","0.563","0.509","0.811","0.912","0.6445","0.7325","0.6485","NA","0.7305","0.861","0.7905","0.768","NA","0.6185","0.637","NA","0.652","0.8955","NA","0.4205","NA","0.811","0.6445","0.7245","NA","NA","0.4645","0.4575","NA","0.6295","0.8045","0.639","0.848","0.8955","0.811","NA","0.607","0.796","0.5655","0.595","0.5495","0.5495","0.5495","NA","NA","0.5005","0.811","NA","0.588","0.6735","0.544","0.8955","0.3015","0.8955","0.678","0.506","0.534","0.8955","NA","NA","NA","NA","0.77","0.8335","NA","NA","0.4355","0.811","NA","0.5355","0.685","0.7205","0.801","0.4105","NA","0.4665","0.7235","0.8295","0.64","0.4165","0.702","0.6045","0.811","0.7095","0.862","0.816","NA","0.715","0.552","NA"],"ht_region":["8","1","3","5","4","10","1","2","5","5","10","3","8","1","10","5","8","2","1","4","2","10","9","7","1","7","4","1","7","4","5","4","4","8","4","2","6","6","2","4","4","4","2","1","2","3","1","4","5","10","2","2","2","4","4","4","1","9","5","5","4","4","1","4","5","4","9","5","10","2","4","10","2","2","1","5","8","7","3","3","5","3","5","4","10","6","1","3","4","6","6","3","1","7","3","4","1","4","3","5","1","5","4","4","7","8","4","5","4","4","2","5","6","1","1","3","4","3","4","9","8","5","9","5","2","4","4","5","9","9","8","2","9","2","2","7","1","5","4","7","3","1","1","4","10","10","10","5","4","3","4","1","4","4","7","1","7","1","4","4","4","5","4","4","10","4","5","5","3","1","7","4","9","10","3","3","3","1","9","4","1","1","3","5","4","5","4","2","1","2","9","3","4","9"],"wbgi_rle":["-1.877234","-0.28071627","-0.83302283","1.6420512","-0.9837536","0.30315053","-0.60676503","-0.4779479","1.6385597","1.7517545","0.07066511","0.44151598","-0.625694","-0.11983846","0.34128785","1.2917758","0.60534126","-1.1776018","-0.30325684","0.45328143","-0.30141738","-0.800228","-0.36349618","0.8605746","-0.06886845","-1.4677804","-1.3125911","-1.1214325","-0.91917795","-1.1164058","1.5928903","0.3277349","-1.6887134","0.01691215","-1.3422123","0.8898907","0.010268886","1.2563621","-0.4708285","-1.2578434","-1.0992813","-1.7238457","0.42366722","0.27541894","-0.41991216","0.60567933","1.0904073","-0.6269569","1.8957213","0.6916984","-0.11635073","-0.3549922","-0.8663832","-1.2027557","-0.62326586","-1.583522","1.389358","0.3006743","2.0134761","1.2591676","-1.029475","-0.7081888","0.14443676","-0.4056209","1.5718048","-0.10768442","0.8861823","0.3211656","0.49048543","-1.1102566","-1.1587706","-0.41662157","-1.2628647","-1.0879738","0.5053734","1.7126335","-0.108451806","-0.25344428","-0.9664825","-1.7488469","1.493008","0.90678936","0.24034803","-0.66102356","-0.19631037","1.5403281","-0.5089701","0.18259557","-0.42144787","-1.6355757","1.0954695","0.23914553","-1.098766","-0.66391677","-1.0917931","-0.43136242","0.9495165","-0.9426622","-1.8036795","1.7042607","1.0746465","1.747622","-0.88559556","-0.24857236","0.5320658","-0.1147239","-0.9193341","0.83541155","-0.68713975","0.84269637","-0.8079965","1.3904055","-0.25020286","-0.35734102","-0.08406404","-0.24368088","-1.0551804","0.38286868","0.3349745","-0.07409875","-0.48883876","1.6986274","0.4493874","1.7811666","-1.3663368","-0.42556235","-0.8708126","1.9079183","0.52166194","0.7148594","-0.65862066","-0.26938578","-0.75168806","-0.57589704","-0.5325147","-0.6668026","0.4255692","1.1050274","-1.4620886","-1.0252875","0.90376914","0.38048443","-0.8861793","0.17209966","0.45481855","0.60516506","0.580293","1.6420512","-0.72777414","0.20560572","-0.39860958","-0.11550256","0.30399367","-0.8397703","1.8194607","0.6784757","-0.17222163","1.0016801","-2.2824454","0.064979695","-1.2821223","0.84325826","-2.0709317","NA","-0.12621364","-0.575524","1.6993572","1.7679853","-2.0821385","-1.2068437","0.09379883","-0.58592135","0.42982838","-0.15831885","0.7989683","0.066302925","-0.43371212","-1.4587215","0.72579783","-0.36933488","-0.6817383","-0.10046881","-0.26064572","1.3955137","-0.5514627","1.3891569","-0.46313876","0.6980622","-0.92124164","-2.3008955","0.8861823","-1.8043497","-0.606376","0.7725424"],"bmr_dem":["0","1","0","1","0","1","0","1","1","1","1","0","0","1","1","1","0","1","1","1","1","1","1","0","1","0","0","0","0","0","1","1","0","1","0","1","0","1","1","0","0","0","1","1","0","1","1","0","1","1","1","1","1","0","0","0","1","1","1","1","0","0","1","1","1","1","1","1","1","1","0","1","0","0","1","1","1","1","0","0","1","1","1","0","1","1","0","0","1","0","1","0","0","0","0","1","1","1","0","1","1","1","1","1","0","0","0","1","0","1","1","1","1","1","1","0","0","0","1","1","1","1","1","1","0","0","1","1","1","1","0","1","1","1","1","1","1","1","0","1","0","1","0","0","1","1","1","1","1","0","1","1","1","1","0","1","0","1","0","1","0","1","0","NA","1","0","1","1","0","0","0","0","0","1","0","1","0","0","1","0","1","1","0","1","0","1","1","1","0","0","0","0","1","1"],"atop_ally":["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","NA","1","1","1","1","1","NA","1","1","1","1","1","1","1","1","1","1","1","1","1","1","NA","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","NA","1","1","NA","1","1","1","1","1","NA","NA","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","NA","1","1","1","1","1","1","1","1","1","1","1","NA","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","NA"],"gol_est":["NA","2","NA","3","NA","1","NA","2","1","2","1","NA","1","2","1","2","1","3","2","1","2","1","1","NA","2","1","2","NA","NA","NA","1","2","1","2","NA","2","NA","3","2","1","1","NA","2","2","2","2","2","2","2","1","2","2","2","NA","NA","NA","2","1","2","1","NA","NA","3","1","3","1","1","2","1","2","NA","2","NA","2","3","2","1","2","NA","NA","2","2","3","NA","1","3","NA","NA","1","NA","3","NA","2","1","1","3","2","1","NA","2","3","2","3","1","1","1","1","2","1","1","3","NA","1","3","2","NA","2","NA","NA","1","3","2","1","3","2","3","1","2","1","1","1","3","1","2","2","3","2","2","2","2","NA","2","3","NA","1","1","1","2","2","NA","3","2","3","1","NA","2","NA","2","2","2","NA","2","NA","NA","2","NA","2","2","NA","NA","3","NA","NA","1","NA","2","2","NA","1","1","3","2","NA","1","NA","1","NA","2","NA","3","NA","NA","1","1"],"mad_gdppc":["1485.54700630816","12455.9165536791","13337.2618338984","NA","6137.00384465022","NA","16971.724514572","17470.6824151873","50704.934853449","42184.6961214896","NA","37323.1039243003","4684.00301024777","12242.4774722192","10386.5261713722","40970.8057833041","NA","6355.61521053972","11553.7607086497","15612.0777736517","14292.9350590379","NA","NA","NA","19753.9944646969","5113.33684775278","723.19207410926","19541.914363355","3796.48438877529","2791.79010028351","44379.5948708567","6173.23012358778","606.859105151281","11751.9486190918","1402.67317110642","22324.9614330869","18666.6045694826","51943.8822886389","13553.3994282833","1886.06081817543","4168.02435849684","817.432228683087","14931.9560232048","25059.9466649754","7485.82078791566","30252.325663827","31452.5563545455","2395.16621333511","49258.7496587633","8419.47300425071","17046.6460256345","9937.6964730908","9017.39142174899","22537.5405933053","2190.67517903773","NA","30499.1570565719","NA","39977.8548881836","38242.1347477576","3541.57124159078","15597.7710654441","12994.7724217991","1964.49366993667","46159.0518809143","4190.57829675246","NA","23732.201072604","NA","7764.69611634589","1769.86232471939","NA","1591.76001531958","5062.11872929809","28085.9622261249","40412.6167447661","7315.1213627107","12233.9685932949","18052.368971168","12355.5869490596","57278.4234586267","34969.0140630838","34827.1349694271","3853.16267699803","7193.10627375964","37678.2757984495","25936.3827604878","9019.89487021807","3292.75843679599","1577.13211047099","40277.9521182031","66418.2057341951","5035.92728981148","6961.12141822525","10573.8611313567","2311.89088424953","26738.6144624428","790.284116936443","14797.0974646119","NA","30557.0300586146","55346.675082633","1343.44385784738","1211.20925392886","24764.6496985662","NA","1643.01437211731","33031.1817247111","3527.42783189627","19069.048309685","15853.3763293067","NA","12992.1665600573","7557.38553254587","19656.5572877982","8391.29466453273","1073.56996438119","46573.5757638282","7796.06158987141","NA","2902.05017222503","48001.838150041","NA","37837.4580660753","4978.84140892313","941.257517436465","5029.08820703286","86334.5932512676","NA","NA","5463.77452761607","21539.0707663531","NA","8845.65915842836","12550.4608899758","7894.17795244597","30687.6628625035","27138.478461995","1593.81857804725","NA","143468.756460503","26102.5876430824","26119.9476386955","2106.97364604572","NA","9067.72075035536","NA","NA","3821.0011049889","49841.1456183865","2607.23208916868","16563.8287271075","30125.9538148002","1665.10477335035","77945.485939299","27365.6226058327","7507.75870737035","31019.9430025664","NA","11273.1591124078","1687.25315401305","32553.0510281635","NA","NA","NA","8725.72467687463","46226.5446571126","62595.3100393776","2682.33982343848","5205.60584566686","16019.5187549168","1534.82364710111","NA","25237.6641683782","72460.0406882181","10726.2562201682","26175.9304755498","17169.0600843758","NA","2083.82818966425","10133.8847202138","13692.0458495545","12868.2614190964","37134.3283802194","3008.1130797545","57522.704625517","1706.96325376644","19222.2958348679","12076.0915768601","4896.80187880547","NA","1972.21025392371","3321.59449582601","NA"],"mad_gdppc1900":["NA","1092","NA","NA","NA","NA","NA","4583","6397","4594","NA","NA","NA","NA","NA","5947","NA","1462","NA","NA","874","NA","NA","NA","NA","NA","NA","NA","NA","NA","4640","NA","NA","2056","NA","3386","972","NA","1089","NA","NA","NA","NA","NA","NA","NA","NA","NA","4809","NA","NA","1098","NA","NA","NA","NA","NA","NA","2659","4584","NA","NA","NA","NA","4758","1126.66310160428","NA","1972","NA","NA","NA","NA","NA","NA","2681","2289.47334642053","955","1151","NA","NA","NA","NA","3264","NA","926","2123.25060819","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","1401.09040590406","NA","NA","NA","NA","NA","NA","817.743016759777","NA","NA","NA","NA","NA","1822","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","5306","NA","6851","NA","NA","1024.70119521912","3249","NA","NA","NA","NA","NA","NA","1084","NA","2700","2075","NA","NA","NA","1406.82067086439","1049.18078743003","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","2206","NA","NA","NA","NA","1494","NA","2672.39052813789","NA","NA","NA","NA","3320","6611.77821356305","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","7594","NA","8037.5712","NA","3387","NA","1846","NA","NA","NA","NA"],"bci_bci":["70.507206","56.955081","49.363506","14.475297","62.067964","34.658181","40.03576","52.839005","9.408537","14.372516","23.783083","35.394438","55.690688","46.602346","22.328548","14.996354","11.12723","64.328726","52.08056","33.331763","45.410364","46.352493","39.71011","21.022983","48.286909","54.835174","68.40758","36.172846","58.35419","57.162489","12.004714","52.310429","70.84754","45.752096","73.249922","38.825647","42.77728","24.957994","55.895177","60.536543","69.321163","71.852233","44.400077","44.225166","40.724197","33.255715","35.439764","53.708631","-2.838399","25.628718","54.927697","54.697991","52.052774","72.428637","54.996494","66.288608","14.98243","30.654798","-3.496812","15.932278","54.959864","64.577967","29.400245","55.52821","7.992592","58.721189","49.046228","43.618991","34.217953","60.087391","61.115404","46.558706","72.458776","58.171921","33.672163","7.769404","44.333303","49.316538","60.997314","68.569045","11.498394","26.954873","38.585972","56.138595","50.653361","11.50294","49.975955","35.597565","63.751165","78.274202","33.299564","46.821653","66.882506","59.885922","61.882033","41.545042","33.061941","63.342694","66.839395","2.542914","33.751649","3.735266","56.310596","54.356076","37.838077","44.518237","59.627652","28.293833","57.24037","34.4135","57.393789","NA","51.742866","56.581807","39.723042","40.662802","57.855471","33.566489","42.17693","64.58218","51.929177","5.062764","41.537572","-0.763475","62.025113","42.72923","66.962794","1.958433","31.970154","70.57807","56.754902","53.451344","57.117711","65.211088","60.72385","53.15041","33.512374","32.734581","78.94162","54.659808","20.705247","44.669724","60.500154","24.326638","37.49018","28.218503","24.733542","NA","39.467751","34.664687","47.077191","50.881127","18.813309","63.469625","0.049689","40.629882","53.418386","28.312533","76.714452","52.354479","62.169869","30.74539","72.370941","NA","55.80463","50.473672","2.803769","2.781703","76.125673","56.007563","48.925691","60.98144","38.636006","51.543303","19.635486","39.770841","42.872663","70.968182","36.247682","72.007407","62.350343","44.782321","48.41172","10.05678","46.972337","24.454729","40.611605","21.182593","54.962107","78.661953","24.498443","76.391466","57.156663","45.046681"],"lis_gini":["NA","NA","NA","NA","NA","NA","NA","NA","0.329","0.281","NA","NA","NA","NA","NA","0.255","NA","NA","NA","NA","0.47","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.3","NA","NA","NA","NA","NA","0.413","0.308","0.485","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.285","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.288","NA","NA","0.346","NA","0.302","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.29","0.345","0.335","NA","NA","NA","NA","NA","NA","NA","0.332","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.356","0.288","NA","NA","NA","NA","0.365","NA","NA","NA","0.418","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.27","NA","NA","NA","NA","NA","0.278","NA","NA","NA","NA","NA","0.443","0.436","NA","0.299","NA","NA","NA","NA","0.295","0.313","NA","NA","NA","NA","NA","NA","NA","NA","0.317","NA","NA","NA","0.236","NA","NA","NA","NA","NA","0.319","NA","NA","NA","NA","0.285","0.31","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","0.302","NA","0.371","NA","0.383","NA","NA","NA","NA","NA","NA"],"top_top1_income_share":["0.1508","0.0827","0.2327","0.1141","0.2596","0.2118","0.1399","0.1297","0.0991","0.1069","0.1892","0.255","0.1616","0.15","0.2118","0.0749","0.14","0.1892","0.0944","0.2274","0.218","0.1892","0.1609","0.1314","0.1872","0.1666","0.1448","0.0961","0.1813","0.1326","0.1162","0.1391","0.1559","0.2047","0.1295","0.2306","0.1572","0.1933","0.1794","0.1416","0.2052","0.1941","0.2495","0.0873","0.1559","0.0875","0.0767","0.1284","0.1643","0.2118","0.1604","0.1658","0.1263","0.1893","0.1382","0.1382","0.1441","0.1609","0.1088","0.1269","0.1586","0.1102","0.1853","0.159","0.1055","0.1519","0.1609","0.1397","0.2118","0.1892","0.0871","0.1892","0.1892","0.1892","0.1039","0.0952","0.2213","0.1785","0.1827","0.1569","0.1536","0.1684","0.1274","0.2103","0.1892","0.0601","0.1488","0.2038","0.159","0.1476","0.1514","0.1759","0.1809","0.1971","0.2134","0.1445","0.0962","0.1217","0.1677","0.1141","0.1184","0.0907","0.1517","0.1522","0.1487","0.1308","0.1212","0.0925","0.0997","0.1589","0.2359","0.1141","0.1605","0.099","0.0797","0.1341","0.2481","0.1986","0.2156","0.1609","0.1372","0.1005","0.1609","0.1677","0.1892","0.1413","0.1158","0.0693","0.1609","0.1609","0.1665","0.1892","0.1637","0.1892","0.274","0.1662","0.1048","0.0965","0.1103","0.1523","0.2429","0.1004","0.2376","0.1989","0.2118","0.2118","0.2118","0.1141","0.1597","0.2523","0.1303","0.1022","0.2045","0.1502","0.1421","0.0788","0.1574","0.0875","0.1627","0.1931","0.1749","0.1006","0.1535","NA","0.1892","0.1932","0.1321","0.1093","0.2157","0.1453","0.1983","0.1406","0.1609","0.1892","0.1612","0.2261","0.1897","0.195","0.1609","0.2138","0.0933","0.0738","0.1905","0.1029","0.1814","0.1988","0.1473","0.1722","0.1665","0.1892","0.1609","0.25","0.186","0.1609"],"wdi_wip":["27.0161290322581","35.7142857142857","8.10810810810811","46.4285714285714","29.5454545454545","11.1111111111111","18.1818181818182","44.7470817120623","31.1258278145695","40.4371584699454","17.9487179487179","15","20.8571428571429","33.6448598130841","20","42","17.0212765957447","46.1538461538462","26.1904761904762","10.7692307692308","15.2046783625731","12.5","8","9.09090909090909","23.75","15.2941176470588","38.2113821138211","40","21.6","33.8888888888889","30.4733727810651","38.8888888888889","12.8571428571429","5.38116591928251","32.258064516129","35.4838709677419","24.9411764705882","NA","18.8235294117647","16.6666666666667","11.2582781456954","12.8","45.6140350877193","31.1258278145695","53.4129692832764","14.2857142857143","25","8.43373493975904","39.6648044692737","34.375","27.8947368421053","39.4160583941606","27.3809523809524","23","42.5882352941177","22","25.7425742574257","21.5686274509804","46","39.5147313691508","26.1538461538462","16.1971830985916","19.3333333333333","8.62068965517241","34.9184782608696","14.5454545454545","6.66666666666667","21.6666666666667","46.6666666666667","19.375","16.6666666666667","35.7142857142857","2.54237288135593","27.34375","13.0653266331658","47.6190476190476","14.4444444444444","21.0434782608696","5.59440559440559","28.8753799392097","22.5","28.3333333333333","35.7142857142857","14.1732283464567","28.5714285714286","9.67741935483871","27.1028037383178","11.5384615384615","21.6138328530259","17.6128093158661","19","1.53846153846154","20.4545454545455","21.9512195121951","4.6875","23.3333333333333","29","10.958904109589","15.9574468085106","28","27.6595744680851","35","17.8807947019868","22.9166666666667","14.8648648648649","4.59770114942529","27.2727272727273","13.4328358208955","20.2614379084967","20","50","33.3333333333333","17.1052631578947","39.6039603960396","24.6913580246914","22.7848101265823","42.4","2.32558139534884","44.2307692307692","10.5263157894737","32.7272727272727","39.3333333333333","0","49.1666666666667","50.5494505494505","25.9036144578313","3.61111111111111","44.9704142011834","7.14285714285714","6.25","20.1754385964912","22.5352112676056","0","16.25","40","27.9605263157895","28.322440087146","40","13.7254901960784","38.4615384615385","4.44444444444444","18.5410334346505","16.2222222222222","61.25","25","11.1111111111111","18.1818181818182","33.3333333333333","23.6363636363636","19.8675496688742","43.030303030303","39.2","22.8571428571429","12.3287671232877","29.8076923076923","22.6666666666667","30.2605210420842","26.6666666666667","24.3636363636364","46.5822784810127","31.8518518518519","43.4285714285714","32.3636363636364","NA","29.4117647058824","9.58904109589041","46.9914040114613","42.5","11.2","23.8095238095238","15.7464212678937","18.6813186813187","0","26.1904761904762","50","26.2672811059908","17.3333333333333","25","6.25","33.8129496402878","20.8037825059102","41.6666666666667","27.7027027027027","34.2592592592593","36.8556701030928","27.6497695852535","6.2992125984252","24.2424242424242","32.6530612244898","22.1556886227545","7.84313725490196","0","15.0602409638554","6.06060606060606"],"region":["SouthAsia","EasternEuropePostSoviet","NorthAfricaMiddleEast","WesternEuropeNorthAmerica","SubSaharanAfrica","Caribbean","EasternEuropePostSoviet","LatinAmerica","WesternEuropeNorthAmerica","WesternEuropeNorthAmerica","Caribbean","NorthAfricaMiddleEast","SouthAsia","EasternEuropePostSoviet","Caribbean","WesternEuropeNorthAmerica","SouthAsia","LatinAmerica","EasternEuropePostSoviet","SubSaharanAfrica","LatinAmerica","Caribbean","Pacific","SouthEastAsia","EasternEuropePostSoviet","SouthEastAsia","SubSaharanAfrica","EasternEuropePostSoviet","SouthEastAsia","SubSaharanAfrica","WesternEuropeNorthAmerica","SubSaharanAfrica","SubSaharanAfrica","SouthAsia","SubSaharanAfrica","LatinAmerica","EastAsia","EastAsia","LatinAmerica","SubSaharanAfrica","SubSaharanAfrica","SubSaharanAfrica","LatinAmerica","EasternEuropePostSoviet","LatinAmerica","NorthAfricaMiddleEast","EasternEuropePostSoviet","SubSaharanAfrica","WesternEuropeNorthAmerica","Caribbean","LatinAmerica","LatinAmerica","LatinAmerica","SubSaharanAfrica","SubSaharanAfrica","SubSaharanAfrica","EasternEuropePostSoviet","Pacific","WesternEuropeNorthAmerica","WesternEuropeNorthAmerica","SubSaharanAfrica","SubSaharanAfrica","EasternEuropePostSoviet","SubSaharanAfrica","WesternEuropeNorthAmerica","SubSaharanAfrica","Pacific","WesternEuropeNorthAmerica","Caribbean","LatinAmerica","SubSaharanAfrica","Caribbean","LatinAmerica","LatinAmerica","EasternEuropePostSoviet","WesternEuropeNorthAmerica","SouthAsia","SouthEastAsia","NorthAfricaMiddleEast","NorthAfricaMiddleEast","WesternEuropeNorthAmerica","NorthAfricaMiddleEast","WesternEuropeNorthAmerica","SubSaharanAfrica","Caribbean","EastAsia","EasternEuropePostSoviet","NorthAfricaMiddleEast","SubSaharanAfrica","EastAsia","EastAsia","NorthAfricaMiddleEast","EasternEuropePostSoviet","SouthEastAsia","NorthAfricaMiddleEast","SubSaharanAfrica","EasternEuropePostSoviet","SubSaharanAfrica","NorthAfricaMiddleEast","WesternEuropeNorthAmerica","EasternEuropePostSoviet","WesternEuropeNorthAmerica","SubSaharanAfrica","SubSaharanAfrica","SouthEastAsia","SouthAsia","SubSaharanAfrica","WesternEuropeNorthAmerica","SubSaharanAfrica","SubSaharanAfrica","LatinAmerica","WesternEuropeNorthAmerica","EastAsia","EasternEuropePostSoviet","EasternEuropePostSoviet","NorthAfricaMiddleEast","SubSaharanAfrica","NorthAfricaMiddleEast","SubSaharanAfrica","Pacific","SouthAsia","WesternEuropeNorthAmerica","Pacific","WesternEuropeNorthAmerica","LatinAmerica","SubSaharanAfrica","SubSaharanAfrica","WesternEuropeNorthAmerica","Pacific","Pacific","SouthAsia","LatinAmerica","Pacific","LatinAmerica","LatinAmerica","SouthEastAsia","EasternEuropePostSoviet","WesternEuropeNorthAmerica","SubSaharanAfrica","SouthEastAsia","NorthAfricaMiddleEast","EasternEuropePostSoviet","EasternEuropePostSoviet","SubSaharanAfrica","Caribbean","Caribbean","Caribbean","WesternEuropeNorthAmerica","SubSaharanAfrica","NorthAfricaMiddleEast","SubSaharanAfrica","EasternEuropePostSoviet","SubSaharanAfrica","SubSaharanAfrica","SouthEastAsia","EasternEuropePostSoviet","SouthEastAsia","EasternEuropePostSoviet","SubSaharanAfrica","SubSaharanAfrica","SubSaharanAfrica","WesternEuropeNorthAmerica","SubSaharanAfrica","SubSaharanAfrica","Caribbean","SubSaharanAfrica","WesternEuropeNorthAmerica","WesternEuropeNorthAmerica","NorthAfricaMiddleEast","EasternEuropePostSoviet","SouthEastAsia","SubSaharanAfrica","Pacific","Caribbean","NorthAfricaMiddleEast","NorthAfricaMiddleEast","NorthAfricaMiddleEast","EasternEuropePostSoviet","Pacific","SubSaharanAfrica","EasternEuropePostSoviet","EasternEuropePostSoviet","NorthAfricaMiddleEast","WesternEuropeNorthAmerica","SubSaharanAfrica","WesternEuropeNorthAmerica","SubSaharanAfrica","LatinAmerica","EasternEuropePostSoviet","LatinAmerica","Pacific","NorthAfricaMiddleEast","SubSaharanAfrica","Pacific"]},"columns":[{"id":"cname_qog","name":"cname_qog","type":"character"},{"id":"cname","name":"cname","type":"character"},{"id":"ccodealp","name":"ccodealp","type":"character"},{"id":"undp_hdi","name":"undp_hdi","type":"character"},{"id":"wdi_expedu","name":"wdi_expedu","type":"character"},{"id":"wdi_acel","name":"wdi_acel","type":"character"},{"id":"wdi_area","name":"wdi_area","type":"character"},{"id":"wdi_taxrev","name":"wdi_taxrev","type":"character"},{"id":"wdi_expmil","name":"wdi_expmil","type":"character"},{"id":"wdi_fdiin","name":"wdi_fdiin","type":"character"},{"id":"wdi_trade","name":"wdi_trade","type":"character"},{"id":"cbie_index","name":"cbie_index","type":"character"},{"id":"ht_region","name":"ht_region","type":"character"},{"id":"wbgi_rle","name":"wbgi_rle","type":"character"},{"id":"bmr_dem","name":"bmr_dem","type":"character"},{"id":"atop_ally","name":"atop_ally","type":"character"},{"id":"gol_est","name":"gol_est","type":"character"},{"id":"mad_gdppc","name":"mad_gdppc","type":"character"},{"id":"mad_gdppc1900","name":"mad_gdppc1900","type":"character"},{"id":"bci_bci","name":"bci_bci","type":"character"},{"id":"lis_gini","name":"lis_gini","type":"character"},{"id":"top_top1_income_share","name":"top_top1_income_share","type":"character"},{"id":"wdi_wip","name":"wdi_wip","type":"character"},{"id":"region","name":"region","type":"character"}],"bordered":true,"striped":true,"dataKey":"6fbf626dfd37e32fdf270a7c136b5829"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We’ll begin by developing some basic intuitions about missing data in R using a simple toy dataset, which we’ll create below and assign to the <code>student_scores</code> data frame:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># makes toy dataset, assigned to object named "student_scores"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>student_scores<span class="ot">&lt;-</span><span class="fu">data.frame</span>(<span class="at">Age=</span><span class="fu">c</span>(<span class="dv">25</span>, <span class="cn">NA</span>, <span class="dv">30</span>, <span class="dv">22</span>, <span class="cn">NA</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">Score=</span><span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">90</span>, <span class="cn">NA</span>, <span class="dv">78</span>, <span class="dv">88</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Let’s print our toy <code>student_scores</code> data frame to get a clear sense of what it looks like:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># prints "student_scores"</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>student_scores</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  NA    90
3  30    NA
4  22    78
5  NA    88</code></pre>
</div>
</div>
<p>Note the “NA” values, which indicate that data corresponding to those cells is missing.</p>
<p>If we want to identify missing data, we can do so with the <code>is.na()</code> function, which returns a logical matrix with the value TRUE for missing values:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># uses "is.na" to return a logical matrix indicating missing values (TRUE for missing values)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(student_scores)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Age Score
[1,] FALSE FALSE
[2,]  TRUE FALSE
[3,] FALSE  TRUE
[4,] FALSE FALSE
[5,]  TRUE FALSE</code></pre>
</div>
</div>
<p>If we want the total number of missing values in the dataset, we can take the sum of <code>is.na(student_scores)</code> :</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates total number of missing values in "student_scores"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(student_scores))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>If we want the total number of missing values per column, we can pass <code>is.na(student_scores)</code> as an argument to the <code>colSum()</code> function, which we can do because in R, logical values can be used in numeric operations; when they’re used in this way, <code>TRUE=1</code> and <code>FALSE=0</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates total number of missing values per column</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(student_scores))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score 
    2     1 </code></pre>
</div>
</div>
<p>If we wanted to calculate the percentage of missing data in the dataset, we could use our count of the number of NA values in the dataset <code>sum(is.na(student_scores))</code> and divide it by the total number of cells in the dataset, derived by multiplying the dataset’s rows and columns:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates missing data percentage in "student_scores"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># first calculates count of missing values and assigns it to "total_missing"</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>total_missing<span class="ot">&lt;-</span><span class="fu">sum</span>(<span class="fu">is.na</span>(student_scores))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates total number of cells and assigns it to "total_values"</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>total_values<span class="ot">&lt;-</span><span class="fu">prod</span>(<span class="fu">dim</span>(student_scores))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates percentage of missing data and assigns it to "missing_pct"</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>missing_pct<span class="ot">&lt;-</span>(total_missing<span class="sc">/</span>total_values)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># prints contents of "missing_pct"</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>missing_pct</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
<p>Calculating the percentage of data missing in a dataset can be useful, and something we may want to do frequently, so it could be useful to wrap this code into a function, which we’ll do below, and assign to a new object named <code>missing_data_percentage()</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creates function to calculate the percentage of missing data in a dataset</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>missing_data_percentage<span class="ot">&lt;-</span><span class="cf">function</span>(dataset){</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># generates count of missing values</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  total_missing<span class="ot">&lt;-</span><span class="fu">sum</span>(<span class="fu">is.na</span>(dataset))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculates total number of cells</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  total_values<span class="ot">&lt;-</span><span class="fu">prod</span>(<span class="fu">dim</span>(dataset))</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculates percentage of missing data</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>missing_pct<span class="ot">&lt;-</span>(total_missing<span class="sc">/</span>total_values)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(missing_pct)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Let’s test out the function on <code>student_scores</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># passes "student_scores" as an argument to custom function "missing_data_percentage" which yields the percentage of missing data in the "student_scores" dataset</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">missing_data_percentage</span>(student_scores)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
<p>We can now use this function for any other datasets we might create or work with, without having to retype a bunch of code. For example, if we wanted to calculate the percentage of missing data in <code>qog_copy</code>, we could pass it as an argument to <code>missing_data_percentage</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates missing data percentage in "qog_copy"</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">missing_data_percentage</span>(qog_copy)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33.78858</code></pre>
</div>
</div>
<p>If we wanted to calculate the percentage of missing data in the modified <code>qog_copy_selection</code> dataset, we could pass it as an argument to the <code>missing_data_percentage</code> function:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates missing data percentage in "qog_copy_selection"</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">missing_data_percentage</span>(qog_copy_selection)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.10137</code></pre>
</div>
</div>
<p>It could also be useful to get a sense of the percentage of missing data at more granular levels. For example, if we wanted to uncover the percentage of missing data per column, we could carry out a simple calculation using the <code>colSums()</code> and <code>nrow()</code> functions:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates percentage of missing data per column in "student_scores" and assigns the resulting vector to an object named "missing_pct_per_col"</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>missing_pct_per_col<span class="ot">&lt;-</span><span class="fu">colSums</span>(<span class="fu">is.na</span>(student_scores))<span class="sc">/</span><span class="fu">nrow</span>(student_scores)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># prints contents of "missing_pct_per_col"</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>missing_pct_per_col</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score 
   40    20 </code></pre>
</div>
</div>
<p>In many cases, after identifying patterns in the missing data, we may want to remove “NA” values from a dataset or a certain section of a dataset. If we want to remove missing data, the <code>drop_na()</code> function from the <em>tidyverse</em> is useful. The <code>drop_na()</code> function will remove all rows from the dataset with NA values in any column. For example, the following removes all rows with NA values from the “student_scores” data frame.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removes all rows with NA values from "student_scores"</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">drop_na</span>(student_scores)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  22    78</code></pre>
</div>
</div>
<p>The default behavior of the <code>drop_na()</code> function is to drop all rows with NA values in any column (i.e.&nbsp;only rows with complete data are kept in the dataset). However, it’s possible to change this default behavior by specifying column/variable names after passing the data frame object as an argument; when we do this, <code>drop_na()</code> no longer drops all rows with missing data in any column, but all rows with missing data in any specified column. For example, the code below drops all rows where “Age” values are NA, but not all rows where “Score” scores are NA</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removes all rows where "Age" has NA values in "student_scores"</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">drop_na</span>(student_scores, Age)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  30    NA
3  22    78</code></pre>
</div>
</div>
<p>If, instead, we specify “Score” as an argument, the function drops all rows where “Score” values are NA, but not all rows where “Age” values are NA.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removes all rows where "Score" has NA values in "student_scores"</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">drop_na</span>(student_scores, Score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  NA    90
3  22    78
4  NA    88</code></pre>
</div>
</div>
<p>Note that we can specify more than one column argument to <code>drop_na()</code>, in which case rows which have NA values associated with those specified columns will be dropped, but rows which have NA values with other (non-specified) columns are kept.</p>
<p>Imputing missing values is a complex topic beyond the scope of our workshop, but it’s worth briefly noting that for whatever reason, NA values may be incorrectly coded, or used as placeholders for other values. For example, you may know from a dataset’s codebook, or from context, that for a particular column in the dataset, observations that appear as missing/NA should actually be coded as “0”. We can use the <code>replace_na()</code> function to replace such NA values with their proper values. For example, let’s say that NA values in the “Score” column should actually be “0” (perhaps NA was being used as a placeholder, and needs to be converted to 0 since the student never turned in their assignment). In the <code>replace_na()</code> function, the first argument is the name of the data frame object, while the second is a list that indicates the column(s) with NA values that need replacement, and a specification for what they will be replaced with. In our case, the syntax looks something like this:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># replace NA values in the "Score" column with 0</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">replace_na</span>(student_scores, <span class="fu">list</span>(<span class="at">Score=</span><span class="dv">0</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  NA    90
3  30     0
4  22    78
5  NA    88</code></pre>
</div>
</div>
<p>Sometimes, we may need to make even more targeted replacements of “NA” values. For example, let’s say we want to replace the “NA” value associated with the “Age” variable that is in row #5, with the numeric value “22”, but do not want to change the “NA” in row #2 for that column. In such scenarios, using the <code>mutate()</code> and <code>if_else()</code> functions in conjunction may provide more flexibility than the <code>replace_na()</code> function:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># changes NA values in Age column to 22 where ID is equal to 5, and makes no changes otherwise; assigns modified data frame to "student_scores_modified"</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>student_scores_modified<span class="ot">&lt;-</span>student_scores <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">mutate</span>(<span class="at">Age =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(Age) <span class="sc">&amp;</span> <span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">5</span>, <span class="dv">22</span>, Age))</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># prints "student_scores_modified"</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>student_scores_modified</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  NA    90
3  30    NA
4  22    78
5  22    88</code></pre>
</div>
</div>
<p>In the code above, note the use of <code>row_number()</code> in our conditional expression; <code>row_number()</code> is a handy <em>dplyr</em> function that allows us to quickly reference row positions within data processing pipelines.</p>
<p>Finally, it’s important to note that base R functions like <code>mean()</code> and <code>sum()</code> will return NA if there are missing values. For example:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates mean of "Score" (NA values are not excluded; default behavior)</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(student_scores<span class="sc">$</span>Score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>If we want such functions to carry out their calculations on non-NA values (while ignoring NA values), we must set <code>na.rm=TRUE</code> as a function argument.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates mean of "Score" (NA values are excluded due to na.rm=TRUE specification; as a result, the function computes an average based on non-NA values)</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(student_scores<span class="sc">$</span>Score, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 85.25</code></pre>
</div>
</div>
<p>It is important to emphasize that when working in R, different packages or functions may handle missing data differently, so it’s useful to consult the documentation of the packages you use for more information (especially when something is not working as expected).</p>
</section>
<section id="descriptive-statistics" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="descriptive-statistics"><span class="header-section-number">5.4</span> Descriptive Statistics</h2>
<p>Once we have a dataset loaded into R, and we have wrangled it into a usable form that is appropriate for analysis (the main subject of the previous lesson), the next step is usually to get a sense of the basic structure of the dataset by calculating summary statistics. This section reviews some summary statistics functions and tools we can call on for this purpose.</p>
<section id="summary-statistics-tables" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="summary-statistics-tables"><span class="header-section-number">5.4.1</span> Summary Statistics Tables</h3>
<p>A quick way to generate a table of summary statistics is to use the&nbsp;<code>describe()</code>&nbsp;function from the <em>psych</em> package. Below, we’ll generate summary statistics for the&nbsp;<code>qog_copy_selection</code>&nbsp;data frame by passing it as an argument to the&nbsp;<code>describe()</code>&nbsp;function. We’ll assign the resulting table of summary statistics to a new object named&nbsp;<code>qog_copy_selection_summarystats1</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate summary statistics for "qog_copy_selection" and assign table of </span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="co"># summary statistics to a new object named "qog_copy_selection_summarystats1"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>qog_copy_selection_summarystats1<span class="ot">&lt;-</span><span class="fu">describe</span>(qog_copy_selection)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Let’s print the first few rows of <code>qog_copy_selection_summarystats1</code> to the console:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># prints first few rows of "qog_copy_selection_summarystats1" to console</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(qog_copy_selection_summarystats1)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>           vars   n  mean    sd median trimmed   mad  min    max  range  skew
cname_qog*    1 194 97.50 56.15  97.50   97.50 71.91 1.00 194.00 193.00  0.00
cname*        2 194 97.50 56.15  97.50   97.50 71.91 1.00 194.00 193.00  0.00
ccodealp*     3 194 97.50 56.15  97.50   97.50 71.91 1.00 194.00 193.00  0.00
undp_hdi      4 190  0.72  0.15   0.74    0.73  0.17 0.38   0.96   0.58 -0.34
wdi_expedu    5 174  4.58  2.07   4.31    4.39  1.75 0.38  14.20  13.81  1.34
wdi_acel      6 192 85.84 24.47 100.00   91.30  0.00 7.70 100.00  92.30 -1.66
           kurtosis   se
cname_qog*    -1.22 4.03
cname*        -1.22 4.03
ccodealp*     -1.22 4.03
undp_hdi      -0.82 0.01
wdi_expedu     3.51 0.16
wdi_acel       1.55 1.77</code></pre>
</div>
</div>
<p>We can also view it in the R Studio data viewer:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view "qog_copy_selection_summarystats1" in Viewer</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(qog_copy_selection_summarystats1)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-6f6f14e50c19c51481c8" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6f6f14e50c19c51481c8">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["cname_qog*","cname*","ccodealp*","undp_hdi","wdi_expedu","wdi_acel","wdi_area","wdi_taxrev","wdi_expmil","wdi_fdiin","wdi_trade","cbie_index","ht_region","wbgi_rle","bmr_dem","atop_ally","gol_est","mad_gdppc","mad_gdppc1900","bci_bci","lis_gini","top_top1_income_share","wdi_wip","region*"],"vars":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],"n":["194","194","194","190","174","192","192","141","152","181","169","153","194","193","193","184","142","162","47","191","35","193","192","194"],"mean":["97.5","97.5","97.5","0.7191","4.57875832863923","85.8401041666667","663647.3700625","16.2108572691318","1.87270164764673","-2.86644631103304","89.9733953869321","0.693532679738562","4.50515463917526","-0.0657579336787565","0.606217616580311","1","1.80985915492958","19024.6336684851","2924.3332568956","44.2621896439791","0.3328","0.158515025906736","24.5112921491491","6.2680412371134"],"sd":["56.1471281545192","56.1471281545192","56.1471281545192","0.15328168729948","2.0658593722409","24.4662264486845","1839052.88341333","6.85496415306667","1.33656359763159","97.4077152130218","57.0163174557007","0.15381130221205","2.6432971690957","0.99625272055695","0.489858285523858","0","0.713925305423545","20243.3109644466","2007.79455862149","19.4858625597985","0.0612015955193788","0.0446596286291792","12.9439793023131","2.9539311259297"],"median":["97.5","97.5","97.5","0.7375","4.31240200996399","100","120375","15.8771617065457","1.53811142492431","2.81683452885051","78.7627100301698","0.7095","4","-0.15831885","1","1","2","12405.7517513694","2206","46.821653","0.313","0.1604","23.4848484848484","6"],"trimmed":["97.5","97.5","97.5","0.725888157894737","4.39082469940185","91.2974025974026","267089.425311688","16.0777202063824","1.6742372867594","3.3609168320833","81.0891611932557","0.701752032520325","4.30128205128206","-0.0839866264516128","0.632258064516129","1","1.76315789473684","15692.8358940957","2686.57873445565","45.4760339542484","0.327206896551724","0.157958064516129","24.1943761726209","6.41666666666666"],"mad":["71.9061","71.9061","71.9061","0.1749468","1.74631011414528","0","177401.9856","6.91264493853585","0.905529029972774","2.98102268459693","34.4131801794054","0.1860663","2.9652","1.04977620531","0","0","1.4826","14471.6078877646","1656.0642","19.3690852194","0.0415128","0.04344018","13.6157142857143","4.4478"],"min":["1","1","1","0.38","0.381919115781784","7.7","2.084","5.8864372548248e-05","0.110133662270893","-1303.10826691135","24.3450393271265","0.3015","1","-2.3008955","0","1","1","606.859105151281","817.743016759777","-3.496812","0.236","0.0601","0","1"],"max":["194","194","194","0.965","14.1951599121094","100","16376870","44.3468321505376","7.58146863585647","32.7522138541297","393.14119815602","0.912","10","2.0134761","1","1","3","143468.756460503","8037.5712","78.94162","0.485","0.274","61.25","10"],"range":["193","193","193","0.585","13.8132407963276","92.3","16376867.916","44.3467732861651","7.47133497358558","1335.86048076548","368.796158828893","0.6105","9","4.3143716","1","0","2","142861.897355352","7219.82818324022","82.438432","0.249","0.2139","61.25","9"],"skew":["0","0","0","-0.337616944548824","1.33615673729359","-1.65842253622204","5.45689904954331","0.470429773455362","1.74546915119653","-13.1385695265508","2.50635359043855","-0.333182353851771","0.610503139748493","0.145756643704891","-0.431419736515567","NaN","0.289722488319543","2.24733988874727","0.924532335355301","-0.521173270679645","0.907173088190825","0.0796922463771908","0.239804194040014","-0.231168542729344"],"kurtosis":["-1.21857198917567","-1.21857198917567","-1.21857198917567","-0.818051671210733","3.50867845318054","1.54942482950788","34.4960363996693","1.23302111721088","3.67360912154308","172.406557886069","8.487029135293","-0.871233261827302","-0.516486283771954","-0.66798086606984","-1.82324346831907","NaN","-1.03164953818951","8.32771857936247","-0.254124905585837","-0.399712601310902","-0.0652589569259154","-0.523464096048766","-0.596269338050695","-1.38556936430458"],"se":["4.03112887414928","4.03112887414928","4.03112887414928","0.0111202223712562","0.156612394840497","1.76569780327529","132722.20966158","0.577292123034722","0.108409623119721","7.24025845171501","4.38587057351544","0.0124349067732173","0.189777676820343","0.0717118399983131","0.0352607709554824","0","0.059911280752771","1590.46471740313","292.866936222842","1.40994753104886","0.0103449577698753","0.00321467041098705","0.934151241821929","0.212079895185611"]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"vars","name":"vars","type":"character"},{"id":"n","name":"n","type":"character"},{"id":"mean","name":"mean","type":"character"},{"id":"sd","name":"sd","type":"character"},{"id":"median","name":"median","type":"character"},{"id":"trimmed","name":"trimmed","type":"character"},{"id":"mad","name":"mad","type":"character"},{"id":"min","name":"min","type":"character"},{"id":"max","name":"max","type":"character"},{"id":"range","name":"range","type":"character"},{"id":"skew","name":"skew","type":"character"},{"id":"kurtosis","name":"kurtosis","type":"character"},{"id":"se","name":"se","type":"character"}],"bordered":true,"striped":true,"dataKey":"b4ace257223fde58b3415a2037bbd721"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Note that the <code>describe()</code> function returns statistics for non-numeric variables (marked with a “*” in the summary statistics table output), but these results often do not have an intuitive or meaningful interpretation. We could limit the summary statistics output to numeric variables by first modifying the data frame to remove non-numeric columns and assigning the result to a new object named <code>qog_copy_selection_numeric</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removes non-numeric variables and assigns modified data frame to new object named "qog_copy_selection_numeric"</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>qog_copy_selection_numeric<span class="ot">&lt;-</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  qog_copy_selection <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>ht_region) <span class="sc">%&gt;%</span> </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Now, let’s pass <code>qog_copy_selection_numeric</code> to the <code>describe()</code> function and create our summary statistics table, which we’ll assign to a new object named <code>qog_copy_selection_numeric_summarystats2</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generates summary statistics for numeric variables </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (i.e. those in qog_copy_selection_numeric) using "describe()</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>qog_copy_selection_numeric_summarystats2<span class="ot">&lt;-</span><span class="fu">describe</span>(qog_copy_selection_numeric)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Let’s now view the modified “numeric variables only” summary statistics table:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># views "qog_copy_selection_numeric_summarystats2" in data viewer</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(qog_copy_selection_numeric_summarystats2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-cacda11cb02dcb554095" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-cacda11cb02dcb554095">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["undp_hdi","wdi_expedu","wdi_acel","wdi_area","wdi_taxrev","wdi_expmil","wdi_fdiin","wdi_trade","cbie_index","wbgi_rle","bmr_dem","atop_ally","gol_est","mad_gdppc","mad_gdppc1900","bci_bci","lis_gini","top_top1_income_share","wdi_wip"],"vars":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],"n":["190","174","192","192","141","152","181","169","153","193","193","184","142","162","47","191","35","193","192"],"mean":["0.7191","4.57875832863923","85.8401041666667","663647.3700625","16.2108572691318","1.87270164764673","-2.86644631103304","89.9733953869321","0.693532679738562","-0.0657579336787565","0.606217616580311","1","1.80985915492958","19024.6336684851","2924.3332568956","44.2621896439791","0.3328","0.158515025906736","24.5112921491491"],"sd":["0.15328168729948","2.0658593722409","24.4662264486845","1839052.88341333","6.85496415306667","1.33656359763159","97.4077152130218","57.0163174557007","0.15381130221205","0.99625272055695","0.489858285523858","0","0.713925305423545","20243.3109644466","2007.79455862149","19.4858625597985","0.0612015955193788","0.0446596286291792","12.9439793023131"],"median":["0.7375","4.31240200996399","100","120375","15.8771617065457","1.53811142492431","2.81683452885051","78.7627100301698","0.7095","-0.15831885","1","1","2","12405.7517513694","2206","46.821653","0.313","0.1604","23.4848484848484"],"trimmed":["0.725888157894737","4.39082469940185","91.2974025974026","267089.425311688","16.0777202063824","1.6742372867594","3.3609168320833","81.0891611932557","0.701752032520325","-0.0839866264516128","0.632258064516129","1","1.76315789473684","15692.8358940957","2686.57873445565","45.4760339542484","0.327206896551724","0.157958064516129","24.1943761726209"],"mad":["0.1749468","1.74631011414528","0","177401.9856","6.91264493853585","0.905529029972774","2.98102268459693","34.4131801794054","0.1860663","1.04977620531","0","0","1.4826","14471.6078877646","1656.0642","19.3690852194","0.0415128","0.04344018","13.6157142857143"],"min":["0.38","0.381919115781784","7.7","2.084","5.8864372548248e-05","0.110133662270893","-1303.10826691135","24.3450393271265","0.3015","-2.3008955","0","1","1","606.859105151281","817.743016759777","-3.496812","0.236","0.0601","0"],"max":["0.965","14.1951599121094","100","16376870","44.3468321505376","7.58146863585647","32.7522138541297","393.14119815602","0.912","2.0134761","1","1","3","143468.756460503","8037.5712","78.94162","0.485","0.274","61.25"],"range":["0.585","13.8132407963276","92.3","16376867.916","44.3467732861651","7.47133497358558","1335.86048076548","368.796158828893","0.6105","4.3143716","1","0","2","142861.897355352","7219.82818324022","82.438432","0.249","0.2139","61.25"],"skew":["-0.337616944548824","1.33615673729359","-1.65842253622204","5.45689904954331","0.470429773455362","1.74546915119653","-13.1385695265508","2.50635359043855","-0.333182353851771","0.145756643704891","-0.431419736515567","NaN","0.289722488319543","2.24733988874727","0.924532335355301","-0.521173270679645","0.907173088190825","0.0796922463771908","0.239804194040014"],"kurtosis":["-0.818051671210733","3.50867845318054","1.54942482950788","34.4960363996693","1.23302111721088","3.67360912154308","172.406557886069","8.487029135293","-0.871233261827302","-0.66798086606984","-1.82324346831907","NaN","-1.03164953818951","8.32771857936247","-0.254124905585837","-0.399712601310902","-0.0652589569259154","-0.523464096048766","-0.596269338050695"],"se":["0.0111202223712562","0.156612394840497","1.76569780327529","132722.20966158","0.577292123034722","0.108409623119721","7.24025845171501","4.38587057351544","0.0124349067732173","0.0717118399983131","0.0352607709554824","0","0.059911280752771","1590.46471740313","292.866936222842","1.40994753104886","0.0103449577698753","0.00321467041098705","0.934151241821929"]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"vars","name":"vars","type":"character"},{"id":"n","name":"n","type":"character"},{"id":"mean","name":"mean","type":"character"},{"id":"sd","name":"sd","type":"character"},{"id":"median","name":"median","type":"character"},{"id":"trimmed","name":"trimmed","type":"character"},{"id":"mad","name":"mad","type":"character"},{"id":"min","name":"min","type":"character"},{"id":"max","name":"max","type":"character"},{"id":"range","name":"range","type":"character"},{"id":"skew","name":"skew","type":"character"},{"id":"kurtosis","name":"kurtosis","type":"character"},{"id":"se","name":"se","type":"character"}],"bordered":true,"striped":true,"dataKey":"1ff375844f08b66ca43fe3f0be397bd8"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Recall that we can view the documentation for any function (including those from external packages) by printing a “?” before the name of the function in the R console:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pulls up documentation for describe() function in the "Help" tab in the bottom-right window of R Studio</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>?describe</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>One thing to note from the documentation is that the <code>describe()</code> function defaults to setting <code>na.rm=TRUE</code>; under this setting, the <code>describe()</code> function simply omits NA (i.e.&nbsp;missing) values when calculating summary statistics. If, instead, we set <code>na.rm=FALSE</code>, the function deletes all rows that contain missing data, and calculates summary statistics with reference to this truncated dataset that has been excised of missing values. In practical terms, it will typically make the most sense to go with the default <code>na.rm=TRUE</code> option, but it’s important to be clear about these different options for handling missing data in the context of the <code>describe()</code> function.</p>
<p>If you’re still struggling to understand the difference, we can explore how this works in the context of our toy dataset, <code>student_scores</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># prints "student_scores"</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>student_scores</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age Score
1  25    85
2  NA    90
3  30    NA
4  22    78
5  NA    88</code></pre>
</div>
</div>
<p>Let’s pass <code>student_scores</code> as an argument to the <code>describe()</code> function, and set <code>na.rm=TRUE</code>; we’ll assign the result to a new object named <code>student_scores_summarystats</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generates summary statistics with "describe()" function </span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co"># and assigns it to "df_sample_summary_default"; </span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co"># na.rm=TRUE ignores NA values when calculating summary statistics</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>student_scores_summarystats<span class="ot">&lt;-</span><span class="fu">describe</span>(student_scores, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Let’s now print <code>student_scores_summarystats</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># prints "student_scores_summarystats"</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>student_scores_summarystats</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      vars n  mean   sd median trimmed  mad min max range  skew kurtosis   se
Age      1 3 25.67 4.04   25.0   25.67 4.45  22  30     8  0.16    -2.33 2.33
Score    2 4 85.25 5.25   86.5   85.25 3.71  78  90    12 -0.44    -1.91 2.63</code></pre>
</div>
</div>
<p>Note that the calculations are carried out by simply ignoring NA values. For example, the mean for the “Age” variable is (25+30+22)/3=25.67, while the mean for the “Score” variable is (85+90+78+88)/4=85.25. Now, let’s see how these calculations change when <code>na.rm=FALSE</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generates summary statistics with describe function and assigns</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># it to "df_sample_summary_B"; na.rm=FALSE removes rows with any NA values </span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># before calculating summary statistics (in other words, summary statistics </span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># are computed on rows with complete data)</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>student_scores_summarystats_B<span class="ot">&lt;-</span><span class="fu">describe</span>(student_scores, <span class="at">na.rm=</span><span class="cn">FALSE</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># prints "student_scores_summarystats_B"</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>student_scores_summarystats_B</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      vars n mean   sd median trimmed  mad min max range skew kurtosis  se
Age      1 2 23.5 2.12   23.5    23.5 2.22  22  25     3    0    -2.75 1.5
Score    2 2 81.5 4.95   81.5    81.5 5.19  78  85     7    0    -2.75 3.5</code></pre>
</div>
</div>
<p>Note that the mean of the “Age” column is now (25+22)/2=23.5, since <code>na.rm=FALSE</code> deletes all rows with NA values (here, rows 2, 3, and 5) before implementing the calculation. Analogously, the mean of the “Score” column is now (85+78)/2=81.5</p>
</section>
<section id="writing-a-custom-summary-statistics-function" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="writing-a-custom-summary-statistics-function"><span class="header-section-number">5.4.2</span> Writing a Custom Summary Statistics Function</h3>
<p>It might be the case that the summary statistics table created by <code>describe()</code> does not contain information you’d like, in which case it may be possible to customize it to provide that information. For example, it could be nice to have a column in the summary statistics table that provides information on the number of NA values there are for each variable. To get that information into the summary statistics table, we’ll first write a very simple function, <code>count_missing()</code>, to count the number of NA values in a vector:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a named function to count missing values</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>count_missing <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="exploratory-visualization" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="exploratory-visualization"><span class="header-section-number">5.5</span> Exploratory Visualization</h2>
</section>
<section id="linear-regression" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="linear-regression"><span class="header-section-number">5.6</span> Linear Regression</h2>
</section>
<section id="exporting-analysis-objects" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="exporting-analysis-objects"><span class="header-section-number">5.7</span> Exporting Analysis Objects</h2>


</section>

</main> <!-- /main -->
<div style="text-align:right; margin-top: 1em;">
  <a href="https://github.com/aranganath24/IBS_CRDDS_R" target="_blank">View Source</a>
</div>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session3.html" class="pagination-link" aria-label="Transferring, Processing, and Wrangling Data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transferring, Processing, and Wrangling Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session5.html" class="pagination-link" aria-label="Tools for Reproducibility and Reporting">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Tools for Reproducibility and Reporting</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/aranganath24/IBS_CRDDS_R/blob/main/session4.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/aranganath24/IBS_CRDDS_R/edit/main/session4.qmd" class="toc-action"><i class="bi empty"></i>Edit this page</a></li><li><a href="https://github.com/aranganath24/IBS_CRDDS_R/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>